effect Nothing
effect Exception(message: str)

func foo() -> unit: uses Nothing
  raise Nothing

func print(message: str, fail: bool) -> unit: uses Exception
  if fail: raise Exception("directed to fail!")
  else: unsafe: printf("%s", message)

func tests() -> unit:
  try foo()
  with Nothing: pass

  pass
