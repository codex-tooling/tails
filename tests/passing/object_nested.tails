foreign:
  func emit(...) -> unit

func tests() -> unit:
  unsafe:
    emit({a: {a: 1}})
    emit({a: {b: {a: 2}}})
    emit({a: {b: 1}, b: {b: 2}})
